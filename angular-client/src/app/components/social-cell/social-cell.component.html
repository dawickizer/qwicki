<mat-expansion-panel
  (opened)="onPanelOpen()"
  (closed)="onPanelClose()"
  class="mat-elevation-z0"
  appBorder
  [bStyle]="panelOpenState ? 'solid' : 'hidden'"
  [bPadding]="panelOpenState ? 5 : 0">
  <mat-expansion-panel-header>
    <mat-panel-title
      [style]="panelOpenState ? 'color:#673ab7' : 'color:aliceblue'">
      <span
        [matTooltip]="friend.online ? 'online' : 'offline'"
        class="material-icons"
        [ngClass]="friend.online ? 'online' : 'offline'"
        >circle</span
      >
      {{ friend.username }}
    </mat-panel-title>
    <mat-panel-description>
      <app-notification-badge
        *ngIf="unviewedMessages.length > 0 && !panelOpenState"
        [count]="unviewedMessages.length"></app-notification-badge>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <app-social-chat-box
    [panelOpenState]="panelOpenState"
    [friend]="friend"
    [messages]="messages"></app-social-chat-box>
</mat-expansion-panel>
